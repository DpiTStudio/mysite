# Приложение Main

Это ядро системы, отвечающее за глобальные настройки, статические страницы и базовую функциональность сайта.

## Файлы приложениия

### `models.py`
Содержит ключевые модели и абстрактные классы:
- `ActiveModel`, `TimestampModel`, `SEOModel`, `HeaderModel` — абстрактные классы для унификации других моделей.
- `SiteSettings` — модель для хранения глобальных настроек сайта (название, email, телефоны, логотипы, SEO). Реализована как Singleton (только одна запись).
- `Page` — модель для создания произвольных статических страниц с поддержкой иерархии в меню.

### `views.py`
Функции отображения:
- `home(request)` — главная страница сайта. Для персонала отображает дашборд со статистикой (количество новостей, проектов, тикетов и т.д.).
- `page_detail(request, slug)` — детальный просмотр статической страницы.
- `page_not_found(request, exception)` — кастомный обработчик ошибки 404.
- `server_error(request)` — кастомный обработчик ошибки 500.
- `robots_txt(request)` — динамическая генерация файла `robots.txt`.

### `utils.py`
Вспомогательные инструменты:
- `transliterate(string)` — функция для перевода кириллических символов в латиницу.
- `RenameUploadTo` — класс-декоратор для динамического переименования файлов при загрузке. Генерирует имена в формате `title_date-time.extension`.

### `context_processors.py`
Делает глобальные настройки доступными в любом шаблоне:
- `get_site_settings(request)` — добавляет объект `site_settings` в контекст.
- `get_active_pages(request)` — добавляет список активных страниц для меню.

### `sitemaps.py`
Автоматическая генерация карты сайта (Sitemap XML) для поисковых систем.

### `templatetags/`
Собственные теги шаблонов:
- `site_tags.py` — общие теги для вывода настроек и форматирования.
- `admin_stats.py` — теги для получения статистики в админке.
