# Документация конфигурации проекта Mysite

Директория `mysite` содержит глобальные настройки проекта Django, маршрутизацию URL и точки входа (WSGI/ASGI).

## Обзор
Это "сердце" проекта `dpit-cms`. Здесь подключаются все приложения, настраивается база данных, логирование, почта и внешний вид административной панели.

---

## Описание файлов

### 1. `settings.py`
Глобальный файл настроек.

**Ключевые секции:**
- **INSTALLED_APPS**: Список подключенных модулей.
    - Включает сторонние бибилотеки (`jazzmin`, `captcha`, `tinymce`) и собственные приложения (`main`, `news`, `portfolio` и др.).
- **MIDDLEWARE**: Промежуточное ПО (безопасность, сессии, CSRF, аутентификация).
- **TEMPLATES**: Настройка шаблонизатора.
    - В секции `context_processors` подключены функции, передающие глобальные данные (меню, настройки, последние новости) во все шаблоны.
- **DATABASES**: Используется SQLite (`db.sqlite3`).
- **JAZZMIN_SETTINGS**: Обширная настройка темы админ-панели **Jazzmin**.
    - Кастомизация заголовков, логотипов, меню, иконок для каждой модели.
    - Настройка верхнего меню и порядка приложений.
- **EMAIL / IMAP**: Настройки SMTP и IMAP сервера (используется Timeweb) для отправки и чтения почты. Ипользуются переменные окружения или дефолтные значения.
- **LOGGING**: Конфигурация логирования.
    - Логи пишутся в консоль и файл `logs/django.log`.
    - Выделенный логгер для приложения `news`.
- **CACHES**: Настройка локального кеширования в памяти (`LocMemCache`) на 5 минут.

### 2. `urls.py`
Главный маршрутизатор (Root URLConf).

**Маршруты:**
- Подключает `urls.py` всех приложений (`main`, `news`, `portfolio`, `reviews`, `accounts`, `tickets`, `mail`, `services`).
- `/admin/`: Админ-панель.
- `/sitemap.xml`: XML-карта сайта (использует словарь `sitemaps` с конфигурациями из `main/sitemaps.py`).
- `/robots.txt`: Динамический файл robots.
- `handler404` / `handler500`: Кастомные обработчики страниц ошибок.

### 3. `asgi.py` и `wsgi.py`
Точки входа для веб-серверов.
- `wsgi.py` используется для деплоя с **Gunicorn/uWSGI** (стандартный синхронный режим).
- `asgi.py` используется для асинхронных серверов (**Daphne/Uvicorn**).
