# Документация приложения Portfolio

Приложение `portfolio` объединяет в себе управление портфолио (выполненными работами) и услугами (прайс-листом) сайта.

## Обзор
Приложение использует единую модель данных для хранения как примеров работ, так и предлагаемых услуг. Это позволяет гибко управлять контентом, разделяя его логически с помощью флагов. Также реализована функциональность заказа услуг через форму обратной связи.

---

## Описание файлов

### 1. `admin.py`
Настройка административной панели.

**Классы:**
- `PortfolioCategoryAdmin`: Управление категориями портфолио/услуг. Поддерживает кастомные шапки (Header) для каждой категории.
- `PortfolioAdmin`: Управление работами и услугами. Фильтры по типу записи (`is_service`).
- `ServiceOrderAdmin`: Интерфейс для просмотра заявок на услуги. Позволяет менять статус заявки.

### 2. `apps.py`
Конфигурация приложения.
- `verbose_name = "Портфолио"`: Имя в админке.

### 3. `context_processors.py`
Глобальные данные.
- `latest_portfolio(request)`: Возвращает 3 последние выполненные работы для отображения в футере или виджетах.

### 4. `forms.py`
Формы приложения.
- `PortfolioForm` / `PortfolioCategoryForm`: Подключают TinyMCE.
- `ServiceOrderForm`: Форма заказа услуги (ФИО, Email, Телефон, Сообщение).

### 5. `models.py`
Структура данных.

**Классы:**

#### `Portfolio(ActiveModel, SEOModel, TimestampModel)`
Универсальная модель для работы или услуги.
- **Ключевые поля:**
    - `is_service`: Флаг работы или услуги.
    - `price`, `min_price`, `max_price`: Стоимость.
    - `image`: Изображение или иконка.

#### `ServiceOrder(TimestampModel)`
Модель заявки на услугу.
- **Поля:** Клиент, выбранная услуга, сообщение, статус.

### 6. `views.py`
Логика преставлений.

**Функции:**
- `portfolio_list(request)`: Список **работ** (`is_service=False`).
- `price_list(request)`: Список **услуг** (`is_service=True`), сгруппированных по категориям.
- `portfolio_detail(request, slug)`: Детальная страница работы или услуги.

### 7. `urls.py`
Маршруты URL.
- `/` -> Список работ.
- `/prices/` -> Прайс-лист услуг.
- `/category/<slug>/` -> Фильтр работ по категории.
- `/<slug>/` -> Детальная страница.
